Models of embedded control systems are often so complex that
falsification and testing approaches can scale only by numerically
simulating them, and hence treat the systems as black-boxes. Common
approaches like sampling-based falsification use numerical simulations
to search for violations of safety properties. However, this relegates
them to the `best effort' category. On the other hand, \emph{rigorous}
verification (and falsification) techniques require symbolic models
and are comparatively less scalable. We try to bridge this gap by
incorporating data-driven models in a sampling based search. Using an
efficient, on-the-fly discrete abstraction search procedure and
regression, we selectively model the behavior of the system in
sub-regions of the state space. We then incorporate the model in the
discrete abstraction, thus, `enriching' the abstraction. We show how
this `enriched' abstraction can be used to guide the search for
violations without refinement.  The automatic falsification proceeds
by (a) randomly exploring the state-space abstraction using
numerically computed trajectories and enumerating abstract violations,
(b) modeling the behavior of the system along these abstract
violations by using discrete-time piecewise \emph{relational} models,
and finally, (c) encoding the search for a concrete violation as a
bounded model checking (BMC) problem.  The BMC query is a disjunction
of conjunctions of constraints (i.e. a combination of constraint
problems over real arithmetic). It can be solved using off-the-shelf
SMT solvers or by multiple runs of an optimization solver (which
checks feasibility). For any counter-example found in this `enriched'
abstraction, we check the existence of a corresponding violation in
the original system. We demonstrate the technique on a few benchmarks.


%We use grid-based discrete abstractions to partition
%the state-space of the black-box hybrid dynamical system. We then use
%an efficient search procedure to find abstract violations of safety
%properties
%Assuming a grid-based implicit abstraction over the
%state-space of the black-box hybrid dynamical system, we enumerate
%abstract violations of the safety property. We then model the system
%behavior along these violations and search for concrete violations.

% Models of embedded control systems are often so complex that they can
% be treated as effectively black-box systems. Sampling-based methods
% for testing such systems use numerical simulations to search for
% violations of properties (specified in a suitable requirement
% formalism, such as temporal logic). This constrains them to a `best
% effort' category unlike rigorous verification techniques, which
% however require a model amenable to symbolic analysis. This work tries
% to bridge the gap by presenting an automatic falsification technique
% which learns a data-driven abstraction of the black box system before
% searching for a violation. It proceeds by (a) modeling the behavior of
% the system using a piecewise affine (PWA) discrete-time {\em
% relational} model and, (b) encoding the search for a violation in the
% abstract model as a bounded model checking problem. The bounded model
% checking query in this instance can be viewed as a disjunction of
% conjunctions of linear constraints (i.e. linear programs) and can be
% solved directly using off-the-shelf SMT solvers or by multiple runs of
% a linear programming solver. For any counter-example found in the
% abstraction, we check the existence of a corresponding violation in
% the original system. We demonstrate the efficacy of our technique on a
% few dynamical systems examples.








% =========================================================================
% Sampling based falsification techniques for black box hybrid dynamical
% systems use numerical simulations to search for violations of
% properties (specified in temporal logic). This constraints them to a
% `best effort' category unlike rigorous verification techniques, which
% however require a white box model. This work tries to bridge the gap
% by presenting an automatic falsification technique which models the
% black box system before searching for a violation. It proceeds by (a)
% modeling the behavior of the system using a piecewise affine (PWA)
% discrete time model and, (b) encoding the search for a violation as a
% standard bounded model checking problem. The resulting problem is a
% disjunction of linear programs and can be solved directly using
% off-the-shelf SMT solvers or by multiple runs of a linear programming
% solver. If a counter-example is found, the existence of a
% corresponding violation in the original system is checked for
% reproducibility.



% In this work we address the problem of finding unsafe behaviors with
% given a safety property for a hybrid dynamical system. We treat the
% system as a black box and approach the problem in two distinct steps.
% First, we model the behavior of the system using a piecewise affine
% discrete time model. Such a model is incomplete in nature and is
% computed with respect to the given property. Next, we encode the
% search for falsification as a bounded model checking query and use an
% SMT solver to find a counter example. If found, we check the existence
% of the violation in the original system to ensure reproducibility.

%Time bounded LTL property in
%Models from verification
%model without data
%black box model/data -> structured model
